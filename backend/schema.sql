CREATE TABLE IF NOT EXISTS users (id INTEGER PRIMARY KEY AUTOINCREMENT,name TEXT NOT NULL,email TEXT NOT NULL UNIQUE,password_hash TEXT NOT NULL);
CREATE TABLE IF NOT EXISTS expenses (id INTEGER PRIMARY KEY AUTOINCREMENT,user_id INTEGER NOT NULL,amount REAL NOT NULL,date TEXT NOT NULL,category TEXT NOT NULL,description TEXT,FOREIGN KEY (user_id) REFERENCES users(id));
CREATE TABLE IF NOT EXISTS budgets (id INTEGER PRIMARY KEY AUTOINCREMENT,user_id INTEGER NOT NULL,category TEXT NOT NULL,budget_amount REAL NOT NULL DEFAULT 0,UNIQUE(user_id, category),FOREIGN KEY (user_id) REFERENCES users(id));